# 本地部署与开发手册

本文档旨在指导开发者如何在本地计算机上成功部署和运行“AI个人面试管理与模拟系统”的后端服务和微信小程序前端。

---

## 1. 环境要求

在开始之前，请确保您的开发环境中已安装以下软件：

- **Python 3.8+**: 用于运行后端服务。
- **微信开发者工具**: 用于运行和调试微信小程序。
- **Git**: 用于代码版本管理。

---

## 2. 后端部署指南 (Backend)

后端服务使用 Python Flask 框架。

### 步骤 1: 进入后端项目目录

打开终端（Terminal），进入项目的 `backend` 目录。

```bash
cd /path/to/your/project/cv_python/backend
```

### 步骤 2: 激活 Python 虚拟环境

项目自带一个名为 `venv` 的虚拟环境。激活它可以确保项目依赖与您的全局 Python 环境隔离。

- **在 macOS / Linux 上**:
  ```bash
  source venv/bin/activate
  ```
- **在 Windows 上**:
  ```bash
  .\venv\Scripts\activate
  ```

激活成功后，您会在终端提示符前看到 `(venv)` 字样。

### 步骤 3: 安装依赖库

项目的所有 Python 依赖都记录在 `requirements.txt` 文件中。运行以下命令进行安装：

```bash
pip install -r requirements.txt
```

### 步骤 4: 初始化数据库

为了保证应用有可用的测试数据，请运行数据库初始化脚本。该脚本会创建数据库表，并生成一个测试用户和10条求职机会数据。

```bash
python init_db.py
```

看到 "Test data generation complete." 字样即表示成功。

### 步骤 5: 启动后端服务

现在，您可以启动 Flask 开发服务器了。

```bash
python app.py
```

启动成功后，您会看到类似以下的输出，表示后端服务正在 `http://127.0.0.1:5000` 上运行：

```
 * Running on http://127.0.0.1:5000
 * Press CTRL+C to quit
```

**至此，后端服务已成功启动。请保持此终端窗口运行。**

---

## 3. 微信小程序前端指南 (Frontend)

前端是一个原生的微信小程序项目。

### 步骤 1: 下载并安装微信开发者工具

如果尚未安装，请从 [官方网站](https://developers.weixin.qq.com/miniprogram/dev/devtools/download.html) 下载并安装最新稳定版的微信开发者工具。

### 步骤 2: 导入项目

1.  打开微信开发者工具。
2.  在启动页面选择 **“导入”**。
3.  在弹出的窗口中：
    - **项目名称**: 可自定义，例如 `AI面试助手`。
    - **目录**: 点击选择，指向本项目的 `miniprogram` 文件夹 (`/path/to/your/project/cv_python/miniprogram`)。
    - **AppID**: 点击“测试号”即可使用一个临时的测试账号进行开发。
    - **后端服务**: 选择“不使用云服务”。
4.  点击右下角的 **“导入”** 按钮。

### 步骤 3: 确认依赖与配置

- **UI库**: 项目已经内置了 `WeUI` 组件库 (`weui/weui.wxss`) 和用于 Markdown 渲染的 `towxml` 库 (`towxml/`)，您**无需额外安装**。
- **后端地址**: 小程序已配置好连接本地后端。您可以在 `miniprogram/app.js` 文件中查看或修改 `backendBaseUrl` 字段，确保它指向您正在运行的后端服务地址（默认为 `http://127.0.0.1:5000`）。

### 步骤 4: 编译和预览

导入项目后，开发者工具会自动编译小程序。您可以在左侧的模拟器中看到小程序的运行效果。

- **模拟器**: 直接在模拟器中操作，体验应用功能。
- **真机预览**: 点击工具栏上的“预览”按钮，用您的微信扫描生成的二维码，即可在手机上体验。

**至此，您已完成整个项目的本地部署。祝您开发愉快！**
