# AI个人面试管理与模拟系统 - 需求设计文档 (竞赛版)

---

### 1. 用户认证 (User Authentication)

- **认证方式**: 通过微信登录授权获取用户的唯一标识（OpenID）、昵称和头像。
- **流程**:
    1. 小程序前端调用 `wx.login()` 获取临时登录凭证 `code`。
    2. 用户在小程序端授权提供昵称和头像。
    3. 前端将 `code`、昵称、头像等信息发送到后端API。
    4. 后端通过 `code` 换取用户的 `OpenID`，并将其与用户信息一同存入数据库，完成用户的注册或登录。
    5. 后端返回一个自定义的登录态（如 Session 或 Token），用于后续接口的身份验证。

---

### 2. 项目概述

本项目旨在为在校生和应届毕业生打造一个一站式、智能化的面试管理与模拟平台，作为**“大学生智能应用开发大赛”的参赛作品**。

**核心目标**是开发一个功能完整、交互流畅的**演示原型(Demo)**，清晰地展示AI在求职辅助领域的创新应用，而非追求生产级的商业化部署。

---

### 3. 核心功能模块

#### **模块一：个人信息中心 (Profile Hub)**

*此模块是整个系统的基石，用于管理用户的核心背景信息。*

- **功能描述与交互**:
    - **显示模式 (默认)**: 页面默认显示用户格式化后的简历信息（由Markdown渲染）。在用户头像下方有一个“编辑资料”按钮。
    - **进入编辑**: 点击“编辑资料”按钮后，页面切换到“编辑模式”。
    - **编辑模式**: 简历显示区域变为一个文本输入框，允许用户修改Markdown原文。在编辑框下方，提供居中对齐的“保存”和“取消”按钮。
    - **保存操作**: 点击“保存”后，系统保存修改，切换回“显示模式”，并**在屏幕中央弹出“保存成功”的提示**，提示在2秒后自动消失。
    - **取消操作**: 点击“取消”后，系统放弃本次修改，直接切换回“显示模式”，内容恢复为修改前的状态。
- **核心数据字段**:
    - `profile_content`: 一个Markdown格式的长文本字段，用于完整存储用户的个人信息。

#### **模块二：机会管理 (Job Opportunity Tracker)**

*此模块用于收集和管理用户感兴趣的面试机会，并记录真实的面试过程。*

- **功能描述**：用户可以手动录入职位信息，并在真实面试后进行复盘记录。
- **核心数据字段 (简化后)**：
    - **公司名称**
    - **职位名称**
    - **职位描述 (JD)**: 大段文本，记录完整的 Job Description。
    - **信息来源**: 校招、社招、Boss 直聘、实习僧、猎头推荐等。
    - **投递状态**: 待投递、已投递、笔试中、面试中、已发 Offer、已结束。

- **小程序实现说明**:
    - **机会列表**: 将采用卡片式布局。
    - **左滑操作**: 每个机会卡片将使用 **WeUI for MinaProgram** 的 `slideview` 组件来实现，提供流畅的左滑“编辑”和“删除”体验。
    - **新增/编辑功能**: 点击“新增”或“编辑”按钮时，将使用 **WeUI** 的 `popup` 组件，从屏幕底部弹出一个面板来承载表单。表单中包含一个**“最新进展”的选填文本框**。
    - **卡片信息展示逻辑**:
        - **状态 (Status)**: 该字段为**分类标签**，用于驱动卡片的视觉样式。例如：`'面试中' -> 蓝色`, `'已发Offer' -> 绿色`。
        - **图标 (Icon)**: 图标**由‘状态’自动决定**，无需用户选择。映射关系如下：
            - `'待投递'`, `'已投递'`: 显示“纸飞机”图标 ✈️
            - `'笔试中'`: 显示“键盘”图标 ⌨️
            - `'面试中'`: 显示“日历”图标 🗓️
            - `'已发Offer'`: 显示“勾选”图标 ✅
            - `'已结束'`: 显示“关闭”图标 ❌
        - **最新进展 (latest_progress)**: 该字段为**用户填写的备注**，会和自动生成的图标一起显示在卡片底部，作为状态的补充说明。

#### **模块三：AI 智能生成器 (AI Generator Suite)**

*这是系统的核心AI功能，被提升为机会详情页的**一级入口**。*

1.  **AI 简历生成器 (AI Resume Builder)**
    - **交互流程**:
        1. 在机会详情页，用户点击主按钮 **[ ✨ AI生成定制简历 ]**。
        2. 弹出一个极简输入框，提示用户输入“希望重点突出的关键词”（可选）。
        3. 用户输入关键词（如“Vue3, 团队合作”）后，点击“确认生成”。
    - **处理流程**: 后端AI将以用户的“**完整个人信息**”、“**岗位JD**”以及用户输入的“**关键词**”作为三大输入，生成一份高度匹配的求职简历。关键词会作为高权重引导，让AI重点围绕这些方面进行筛选和润色。
    - **输出与交互**: 生成的简历将以Markdown格式保存在该机会下，用户可以在对应的详情区域进行查看、编辑和预览。

2.  **AI 面试演练 (AI Interview Practice)**
    - **交互流程**:
        1. 在机会详情页，用户点击主按钮 **[ 🎙️ AI进行面试演练 ]**。
        2. 系统将自动（或在用户确认后）生成针对该岗位的面试问题及回答建议。
        3. **立即进入一个沉浸式的“实战演练”界面**。界面每次只显示一道题目。
    - **核心演练循环**:
        1. **录音回答**: 用户点击“开始回答”按钮，调用麦克风进行录音。
        2. **获取反馈**: 回答结束后，系统将录音转为文字，并调用AI，从“与建议要点的匹配度”、“语言流畅度”等方面给出一个简单的**即时反馈**。
        3. **查看建议**: 用户可以随时展开查看AI预先生成的回答建议，进行对比和学习。
        4. **下一题**: 用户可以随时切换到下一题进行练习。
    - **结束、评估与复盘 (新增)**:
        1. **正常完成**: 当用户回答完最后一题后，“下一题”按钮将自动变为 **[ 完成面试，查看评估 ]**。点击后，系统生成完整评估报告。
        2. **中途退出**: 用户在演练中可随时点击“关闭”按钮。系统将弹出确认框：“您确定要提前结束吗？系统将根据已完成的回答生成一份评估报告。” 确认后，系统将生成一份**部分评估报告**。
        3. **查看报告**: 无论以上哪种情况，系统都将关闭演练界面，并自动切换到 **“评估报告”** Tab，展示新生成的报告。
    - **输出与交互 (数据与复盘)**:
        - **数据结构**: 每次演练都将作为一个“面试会话 (Interview Session)”被完整保存，其中包含“评估报告”和该次会话的所有“问答记录 (Session Answers)”。
        - **评估报告页 (动态交互)**:
            - **默认展示**: 默认展示最新一次的面试评估报告（包含评分、雷达图、整体评价）。
            - **历史记录可点击**: 报告下方的“历史记录”列表中的每一项都可点击。
            - **加载历史**: 点击某条历史记录后，页面上方的评估报告内容将动态更新为该次历史报告的内容。
            - **展示会话详情**: 同时，在报告下方将出现**“会话详情”**区域，逐一列出该次历史会话中的“问题”、“你的回答”和“AI反馈”，实现对任意一次历史面试的完整复盘。

#### **模块四：模拟面试 (Mock Interview)**

*此模块的功能已被整合进“AI面试演练”中，提供更即时、更轻量化的练习-反馈循环，因此不再作为一个独立的模块。*

#### **模块五：动态与分析中心 (Activity & Analytics Dashboard)**

*此模块用于沉淀面试数据，帮助用户追踪成长。*

- **功能描述**：聚合存储每一次的**模拟面试记录**和**真实面试复盘**。
- **核心功能**：
    - **能力变化**：通过能力雷达图，可视化展示用户在沟通能力、逻辑思维、岗位匹配度等多个维度的评分。
    - **历史记录**：按时间线或公司查看所有面试流程和结果。

---

### 4. 非功能性需求 (竞赛导向)

- **平台兼容性**：确保在 H5 移动端有良好的、可供演示的用户体验。
- **UI/UX 设计**：界面应简洁、现代、直观，**演示效果**流畅、有吸引力。
- **性能要求**：AI生成内容的响应速度要快。为保证演示稳定性，可采用**模拟接口**，预置高质量的生成结果。
- **数据安全**：由于是单用户演示原型，不强制要求复杂的用户认证和数据隔离。

---

### 5. 技术栈选型

- **后端**: **Python (Flask)** 框架。
- **前端**: **原生微信小程序框架 (WXML, WXSS, JS)**。
- **UI组件库**: **WeUI**，用于快速构建符合微信设计规范的界面。
- **Markdown渲染**: 采用第三方库（如 **towxml**）来解析和展示Markdown内容，确保良好的排版效果。
- **AI能力集成**：在Flask后端通过API调用商业或开源的LLM（如 Gemini API、OpenAI API 等），或直接返回预置的模拟数据以确保演示效果。
